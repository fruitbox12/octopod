sequenceDiagram
    participant UI
    participant DMS
    participant PostgreSQL
    participant DMS/BgWorker
    participant DMS/StatusUpdater
    participant AppWrappers
    participant KubeAPI
    UI->>DMS: cleanup(name)
    DMS->>DMS/BgWorker: cleanup
    DMS-->>UI: done
    DMS/BgWorker->>AppWrappers: cleanup
    AppWrappers->>KubeAPI: cleanup staging resources
    KubeAPI-->>AppWrappers: done
    AppWrappers-->>DMS/BgWorker: done
    DMS->>PostgreSQL: delete config and logs
    DMS/BgWorker-xUI: event FrontendPleaseUpdateEverything
    UI->>DMS: get stagings info
    DMS-->>UI: stagings info
